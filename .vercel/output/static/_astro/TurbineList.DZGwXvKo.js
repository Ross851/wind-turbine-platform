import{j as e}from"./jsx-runtime.BftctW7E.js";import{r}from"./index.DJO9vBfz.js";import{g}from"./turbine-service.CN_jfETl.js";const y=()=>{const[a,i]=r.useState([]),[n,x]=r.useState(!0),[c,d]=r.useState("all"),[l,o]=r.useState("");r.useEffect(()=>{(async()=>{try{const t=await g();i(t)}catch(t){console.error("Error fetching turbines:",t)}finally{x(!1)}})()},[]);const m=a.filter(s=>{const t=c==="all"||s.status===c,h=s.name.toLowerCase().includes(l.toLowerCase())||s.id.toLowerCase().includes(l.toLowerCase());return t&&h}),p=s=>`px-3 py-1 rounded-full text-sm font-medium ${{operational:"bg-success-100 text-success-800",warning:"bg-orange-100 text-orange-800",maintenance:"bg-blue-100 text-blue-800",offline:"bg-red-100 text-red-800"}[s]}`;return n?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(s=>e.jsx("div",{className:"h-24 bg-gray-200 rounded"},s))})}):e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search turbines...",value:l,onChange:s=>o(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})}),e.jsx("div",{className:"flex gap-2",children:["all","operational","warning","maintenance","offline"].map(s=>e.jsx("button",{onClick:()=>d(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c===s?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turbine"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Maintenance"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.specifications.model})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:p(s.status),children:s.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.type==="offshore"?"🌊 Offshore":"🏔️ Onshore"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.location.lat.toFixed(4),", ",s.location.lng.toFixed(4)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Power:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[s.performance.currentPower," MW"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Wind:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[s.performance.windSpeed," m/s"]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(s.maintenance.nextScheduled).toLocaleDateString()}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Math.ceil((new Date(s.maintenance.nextScheduled).getTime()-Date.now())/(1e3*60*60*24))," days"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900 mr-3",children:"View"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:"Edit"})]})]},s.id))})]})}),e.jsx("div",{className:"p-6 bg-gray-50 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Turbines"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Operational"}),e.jsx("p",{className:"text-2xl font-bold text-success-600",children:a.filter(s=>s.status==="operational").length})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Capacity"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.reduce((s,t)=>s+t.specifications.capacity,0).toFixed(1)," MW"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Output"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[a.reduce((s,t)=>s+t.performance.currentPower,0).toFixed(1)," MW"]})]})]})})]})};export{y as default};
