import{j as e}from"./jsx-runtime.BftctW7E.js";import{r as c}from"./index.DJO9vBfz.js";import{g as o}from"./turbine-service.CN_jfETl.js";const g=()=>{const[t,n]=c.useState([]),[l,i]=c.useState(!0);c.useEffect(()=>{const s=async()=>{try{const r=await o();n(r)}catch(r){console.error("Error fetching turbines:",r)}finally{i(!1)}};s();const a=setInterval(s,1e4);return()=>clearInterval(a)},[]);const d=s=>{switch(s){case"operational":return"text-success-600 bg-success-100";case"warning":return"text-orange-600 bg-orange-100";case"maintenance":return"text-blue-600 bg-blue-100";case"offline":return"text-red-600 bg-red-100"}},x=s=>{switch(s){case"operational":return e.jsx("span",{className:"text-success-600",children:"â—"});case"warning":return e.jsx("span",{className:"text-orange-600",children:"â–²"});case"maintenance":return e.jsx("span",{className:"text-blue-600",children:"â– "});case"offline":return e.jsx("span",{className:"text-red-600",children:"âœ•"})}};return l?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Turbine Status"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(s=>e.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:x(s.status)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.type==="offshore"?"ðŸŒŠ Offshore":"ðŸ”ï¸ Onshore"})]})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Power:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[s.performance.currentPower," MW"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Wind:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[s.performance.windSpeed," m/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Efficiency:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[s.performance.capacityFactor,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Temp:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[s.performance.temperature,"Â°C"]})]})]}),s.maintenance.alerts.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsxs("p",{className:"text-xs text-orange-600",children:["âš ï¸ ",s.maintenance.alerts.length," active alert",s.maintenance.alerts.length>1?"s":""]})})]},s.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Total Capacity"}),e.jsxs("p",{className:"font-bold text-lg",children:[t.reduce((s,a)=>s+a.specifications.capacity,0).toFixed(1)," MW"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Active Power"}),e.jsxs("p",{className:"font-bold text-lg text-success-600",children:[t.reduce((s,a)=>s+a.performance.currentPower,0).toFixed(1)," MW"]})]})]})]})};export{g as default};
