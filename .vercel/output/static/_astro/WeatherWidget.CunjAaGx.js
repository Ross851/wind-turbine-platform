import{j as e}from"./jsx-runtime.BftctW7E.js";import{r as i}from"./index.DJO9vBfz.js";import{a as p,g as N}from"./weather-service.BbyU-1F5.js";const v=()=>{const[s,d]=i.useState(null),[t,c]=i.useState(null),[o,x]=i.useState(!0),[l,m]=i.useState(!1);return i.useEffect(()=>{const a=async()=>{try{const h=await p(55.6761,12.5683);d(h);const j=await N(55.6761,12.5683);c(j)}catch(r){console.error("Error fetching weather data:",r)}finally{x(!1)}};a();const n=setInterval(a,3e5);return()=>clearInterval(n)},[]),o?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Weather Conditions"}),e.jsx("button",{onClick:()=>m(!l),className:"text-sm text-primary-600 hover:text-primary-700",children:l?"Show Weather":"Show Sea Conditions"})]}),!l&&s&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-bold",children:[Math.round(s.temperature),"°C"]}),e.jsx("p",{className:"text-gray-600",children:s.forecast[0]?.conditions||"Clear"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Wind"}),e.jsxs("p",{className:"text-xl font-semibold",children:[s.windSpeed.toFixed(1)," m/s"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.windDirection,"°"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Humidity"}),e.jsxs("p",{className:"font-semibold",children:[s.humidity,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pressure"}),e.jsxs("p",{className:"font-semibold",children:[s.pressure," hPa"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Visibility"}),e.jsxs("p",{className:"font-semibold",children:[(s.visibility/1e3).toFixed(1)," km"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cloud Cover"}),e.jsxs("p",{className:"font-semibold",children:[s.cloudCover,"%"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:"Wind Forecast"}),e.jsx("div",{className:"space-y-1",children:s.forecast.slice(0,3).map((a,n)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:new Date(a.datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsxs("span",{className:"font-medium",children:[a.windSpeed.toFixed(1)," m/s"]})]},n))})]})]}),l&&t&&e.jsxs("div",{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Wave Height"}),e.jsxs("span",{className:"font-semibold",children:[t.waveHeight.toFixed(1)," m"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Wave Period"}),e.jsxs("span",{className:"font-semibold",children:[t.wavePeriod.toFixed(1)," s"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Speed"}),e.jsxs("span",{className:"font-semibold",children:[t.currentSpeed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Water Temp"}),e.jsxs("span",{className:"font-semibold",children:[t.waterTemperature.toFixed(1),"°C"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Swell Height"}),e.jsxs("span",{className:"font-semibold",children:[t.swellHeight.toFixed(1)," m"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Visibility"}),e.jsxs("span",{className:"font-semibold",children:[(t.visibility/1e3).toFixed(1)," km"]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Offshore Operations"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:t.waveHeight<2?"Safe for vessel operations":"Caution: High waves"})]})]})]})};export{v as default};
